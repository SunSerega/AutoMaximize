


Самый просто способ создать очередь — выбрать объект типа `Buffer` или `Kernel` и вызвать для него метод `.NewQueue`.

Полученная очередь будет иметь особый тип: `BufferCommandQueue`/`KernelCommandQueue` для буфера/kernel'а соответственно.\
К такой очереди можно добавлять команды, вызывая её методы, имена которых начинаются с `.Add...`.

К примеру:
```
uses OpenCLABC;

begin
  // Буфер достаточного размера чтоб содержать 3 значения типа integer
  var b := new Buffer( 3*sizeof(integer) );
  
  // Создаём очередь
  var q := b.NewQueue;
  
  // Добавлять команды в полученную очередь можно вызывая соответствующие методы
  q.AddWriteValue(1, 0*sizeof(integer) );
  
  // Методы, добавляющие команду в очередь - возвращают очередь, для которой их вызвали (не копию а ссылку на оригинал)
  // Поэтому можно добавлять по несколько команд в 1 строчке:
  q.AddWriteValue(5, 1*sizeof(integer) ).AddWriteValue(7, 2*sizeof(integer) );
  // Все команды в q будут выполняться последовательно
  
  Context.Default.SyncInvoke(q);
  
  // Вообще чтение тоже надо делать через очереди, но для простого примера - и неявные очереди подходят
  b.GetArray1&<integer>(3).Println;
  
end.
```

Также, очереди `BufferCommandQueue`/`KernelCommandQueue` можно создавать из очередей, возвращающих `Buffer`/`Kernel` соответственно. Для этого используется конструктор:
```
var q0: CommandQueue<Buffer>;
...
var q := new BufferCommandQueue(q0);
```


