


Данная справка рассказывает про подводные камни при работе с неуправляемыми .dll,
которые можно встретить при работе с модулями `OpenGL` и `OpenCL`, входящеми в состав стандартных модулей языка PascalABC.NET.

Справки по соответствующим библиотекам:
- [OpenGL.dll](https://www.khronos.org/registry/OpenGL/specs/gl/)
- [OpenCL.dll](https://www.khronos.org/registry/OpenCL/)

(Далее "исходные библиотеки" относится сразу к обеим этим библиотекам)

Отдельных справок по модулям `OpenGL` и `OpenCL` (далее просто "н.у. модули", что значит "низко-уровневые")
нет, потому что они сделаны по
<a path="../Основные принципы/">
общим принципам
</a>
.

---

Н.у. модули созданы как промежуточная точка между исходными библиотеками и модулями
[`OpenGLABC`](Справка%20OpenGLABC.html)
и
[`OpenCLABC`](Справка%20OpenCLABC.html),
на случай если вы хотите использовать OpenGL и/или OpenCL, но хотите написать свою высоко-уровневую оболочку.
Возможно, ради опыта. Возможно, ради особых оптимизаций. И т.п.

Если вы будете использовать только модули `OpenGLABC` и `OpenCLABC` - данная справка вам не нужна,
потому что `OpenGLABC` и `OpenCLABC` специально созданы так, чтоб отстранить программиста от всех сложностей
работы с неуправляемыми .dll и предоставить привычный ООП интерфейс со всевозможными удобствами.

---

Если:

- В н.у. модулях или данной справке найдена ошибка или чего-либо не хватает;

- Вы наткнулись на какую то особенностью работы с неуправляемыми .dll, которая тут не (или недо-) описана:

Пишите в [issue](https://github.com/SunSerega/POCGL/issues).

---

Так же, в н.у. модулях (особенно в `OpenGL` и особенно в расширениях) содержится огромное количество подпрограмм.\
И большинство из них требует какой-либо чистки (в основном потому что при переводе с C++
`int *` может оказаться и указателем, и `var`-параметром, и массивом).

Все разом их не проверить. Но сделать это, всё же, надо. И в записи-перечисления тоже нуждаются в проверке.\
Если хотите помочь - можно писать и в issue, но лучше (и проще для вас, когда разберётесь) создать fork репозитория,
сделать там нужные изменения и послать pull-request. Могу объяснить подробнее в [vk](https://vk.com/sun_serega) или по `sunserega2@gmail.com`.

Если будете изменять сами - вот файлы о которых вам надо знать:

- OpenGL | [Контроль](https://github.com/SunSerega/POCGL/tree/master/Packing/Template/GL/Fixers/Funcs) перегрузок функций
и их [упаковщик](https://github.com/SunSerega/POCGL/blob/master/Packing/Template/GL/Pack%20Funcs.pas).\
\+ после успешной упаковки [этот](https://github.com/SunSerega/POCGL/blob/master/Packing/Template/GL/Log/FinalFuncOverloads.log)
файл показывает готовые списки перегрузок каждой подпрограммы в том же синтаксисе.

- OpenGL | [Контроль](https://github.com/SunSerega/POCGL/tree/master/Packing/Template/GL/Fixers/Enums) значений перечислений
и их [упаковщик](https://github.com/SunSerega/POCGL/blob/master/Packing/Template/GL/Pack%20Enums.pas).

- Для создания .pas и .pcu файлов модулей в корне репозитория есть PackAll.pas и .bat файлы.

(`OpenCL.pas` в ближайшее время получит такие же отдельные контроллеры и упаковщики, но пока что всё вручную, в .pas файле)


