


# FillValue![%AutoSize:AutoSize,%][%Q:,Q%]
val: {%Q?&T:CommandQueue<&T>%}{%AutoSize?:; ind, len\: CommandQueue<integer>%}
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  new IntPtr(!val:ptr!), new UIntPtr(Marshal.SizeOf&<T>),
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);



# FillArray[%rank:,2,3%]!AutoSize
a: CommandQueue<array{%rank? : [,] : [,,] %} of &T>
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !a:pinn![{%rank? 0 : 0,0 : 0,0,0 %}], new UIntPtr(!a:pinn!.Length * Marshal.SizeOf&<T>),
  UIntPtr.Zero, new UIntPtr(o.ByteSize),
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);

# FillArray[%rank:,2,3%]
a: CommandQueue<array{%rank? : [,] : [,,] %} of &T>; {%rank? a_ind : a_ind1,a_ind2 : a_ind1,a_ind2,a_ind3 %}, pattern_len, ind, fill_len: CommandQueue<integer>
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !a:pinn![{%rank? !a_ind! : !a_ind1!,!a_ind2! : !a_ind1!,!a_ind2!,!a_ind3! %}], new UIntPtr(!pattern_len! * Marshal.SizeOf&<T>),
  new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>),
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);



# FillArraySegment![%AutoSize:AutoSize,%]
a: CommandQueue<ArraySegment<&T>>{%AutoSize?:; ind, fill_len\: CommandQueue<integer>%}
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !a:pinn!.Array[!a:pinn!.Offset], new UIntPtr(!a:pinn!.Count * Marshal.SizeOf&<T>),
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);










# FillData![%AutoSize:AutoSize,%]
ptr: CommandQueue<IntPtr>; pattern_len{%AutoSize?:, ind, fill_len%}: CommandQueue<integer>
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !ptr!, new UIntPtr(!pattern_len!*Marshal.SizeOf&<T>),
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);

# FillData![%AutoSize:AutoSize,%]
ptr: pointer; pattern_len{%AutoSize?:, ind, fill_len%}: CommandQueue<integer>
!ShortDef
FillData(IntPtr(ptr), pattern_len{%AutoSize?:, ind, fill_len%});

# FillData!Area[%AutoSize:AutoSize,%]
data: CommandQueue<NativeMemoryArea>{%AutoSize?: ;ind,fill_len\:CommandQueue<integer> %}
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !data!.ptr, !data!.sz,
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);



# FillNativeValue![%AutoSize:AutoSize,%]
val: CommandQueue<NativeValue<&T>>{%AutoSize?: ;ind,fill_len\:CommandQueue<integer> %}
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  !val!.MemoryArea.ptr, !val!.MemoryArea.sz,
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);



# FillNativeArray![%AutoSize:AutoSize,%]
a: CommandQueue<NativeArray<&T>>{%AutoSize?: ; a_ind,pattern_len, ind,fill_len\:CommandQueue<integer> %}
!Enqueue
var ec := cl.EnqueueFillBuffer(
  cq, o.Native,
  {%AutoSize? !a!.MemoryArea.ptr,!a!.MemoryArea.sz : new IntPtr(!a!.ItemPtrUnchecked[!a_ind!]),new UIntPtr(!pattern_len!*Marshal.SizeOf&<T>) %},
  {%AutoSize? UIntPtr.Zero, new UIntPtr(o.ByteSize) : new UIntPtr(!ind!*Marshal.SizeOf&<T>), new UIntPtr(!fill_len!*Marshal.SizeOf&<T>) %},
  !evs!
);
OpenCLABCInternalException.RaiseIfError(ec);


