
!Generics
T: record



# GetValue
ind: CommandQueue<integer>
!ResultType
&T
!ForcePtrQr
!Enqueue
cl.EnqueueReadBuffer(
  cq, o.Native, Bool.NON_BLOCKING,
  new UIntPtr(int64(!ind!) * Marshal.SizeOf&<T>), new UIntPtr(Marshal.SizeOf&<T>),
  new IntPtr(!res_ptr!),
  !evs!
).RaiseIfError;



# GetArray!AutoSize
!ResultType
array of &T
!SetRes
new T[o.Length]
!PinnRes
!Enqueue
cl.EnqueueReadBuffer(
  cq, o.Native, Bool.NON_BLOCKING,
  UIntPtr.Zero, new UIntPtr(o.ByteSize),
  !res_pinn_adr!,
  !evs!
).RaiseIfError;

# GetArray
ind, len: CommandQueue<integer>
!ResultType
array of &T
!SetRes
new T[!len!]
!PinnRes
!Enqueue
cl.EnqueueReadBuffer(
  cq, o.Native, Bool.NON_BLOCKING,
  new UIntPtr(int64(!ind!) * Marshal.SizeOf&<T>), new UIntPtr(int64(!len!) * Marshal.SizeOf&<T>),
  !res_pinn_adr!,
  !evs!
).RaiseIfError;


